<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>vcpkg - C++ Package manager | advnpzn</title>
<meta name=keywords content="cpp,c++,vcpkg,package-manager,programming,cmake,fmt"><meta name=description content="Managing dependencies for your C++ projects were always cumbersome, or is it ?"><meta name=author content="advnpzn"><link rel=canonical href=https://advnpzn.github.io/posts/using-vcpkg-manifest-mode/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://advnpzn.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://advnpzn.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://advnpzn.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://advnpzn.github.io/apple-touch-icon.png><link rel=mask-icon href=https://advnpzn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://advnpzn.github.io/posts/using-vcpkg-manifest-mode/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="vcpkg - C++ Package manager"><meta property="og:description" content="Managing dependencies for your C++ projects were always cumbersome, or is it ?"><meta property="og:type" content="article"><meta property="og:url" content="https://advnpzn.github.io/posts/using-vcpkg-manifest-mode/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-30T00:53:07+05:30"><meta property="article:modified_time" content="2024-03-30T00:53:07+05:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="vcpkg - C++ Package manager"><meta name=twitter:description content="Managing dependencies for your C++ projects were always cumbersome, or is it ?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://advnpzn.github.io/posts/"},{"@type":"ListItem","position":2,"name":"vcpkg - C++ Package manager","item":"https://advnpzn.github.io/posts/using-vcpkg-manifest-mode/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"vcpkg - C++ Package manager","name":"vcpkg - C\u002b\u002b Package manager","description":"Managing dependencies for your C++ projects were always cumbersome, or is it ?","keywords":["cpp","c++","vcpkg","package-manager","programming","cmake","fmt"],"articleBody":"Introduction Do you use C++?\nDo you struggle with maintaining dependencies for your projects?\nIs it taking too much time to setup your C++ development environment setup ?\nIf YES, then consider that your development workflow is going to become smooth after reading this post.\nOne of the things where we bang our heads when dealing with C++ is managing third party dependencies that we use in our projects. Be it a seasoned user or a novice, everyone must have tackled this issue somewhere at sometime using different ways.\nBut is there a thing as which one’s the “best” way ?\nOfcourse, there isn’t, but anything that makes me not bang my head against the table, I would consider it a better way. And this is where we’ll be talking about Package Managers, and specifically about vcpkg.\nvcpkg vcpkg is a package or dependency manager for C++. It’s very unfortunate that there is no official package manager for C++ at it’s dawn. I am not sure if the concept of “package managers” even existed\nInstallation It’s pretty easily actually.\nWe’ll be focusing on GNU/Linux installation entirely. This applies for usage as well. I’ll be using Debian 12. But 90% of the times, it’s pretty much the same in Microsoft Windows.\nClone the repo.\ngit clone https://github.com/microsoft/vcpkg.git Run the script\ncd vcpkg \u0026\u0026 ./bootstrap-vcpkg.sh You can add -disableMetrics as an arugment to the shell script, if you don’t want Microsoft to spy on you.\nThen if you want to run vcpkg from anywhere in your shell, you can add the PATH to your .bashrc or profile file.\nexport VCPKG_ROOT=/path/to/vcpkg export PATH=$VCPKG_ROOT:$PATH After this, you can probably run vcpkg from any directory.\nUsage Now to come to the part where we actually use vcpkg in our C++ project. I’ll use a demo project.\nDemo Project We will be using fmt library to print something.\nmain.cxx\n#include int main() { fmt::print(\"Mitochondria is the powerhouse of the cell!\\n\"); return 0; } And to build this project, we’ll be using CMake.\nSo, our initial project directory would look like this.\ndemo/ ├── CMakeLists.txt └── main.cxx Now from our demo directory, do\nvcpkg new --application This would create two new files in our demo directory.\nvcpkg.json - The file where we define our dependencies. vcpkg-configuration.json - the file where we define how vcpkg behaves, such as which custom registry to use etc. The above way of initialising \u0026 using vcpkg is called as Manifest Mode.\nThere are 2 modes generally.\nClassic Manifest We’ll be using Manifest mode throughout this post, because it is BETTER!\nNow, to add a dependency to our project, which is fmt,\nvcpkg add port fmt You can search for many packages at https://vcpkg.io/en/packages.\nNow, if you open that vcpkg.json file, you can see that the dependency we added is present.\n{ \"dependencies\": [ \"fmt\" ] } CMakeLists.txt Make sure you have cmake installed beforehand along with something like make or ninja. Since this is a small demo project, we can have the following in our demo project.\nCMakeLists.txt cmake_minimum_required(VERSION 3.12)\nproject(“demo”)\nfind_package(fmt CONFIG REQUIRED)\nadd_executable(demo “main.cxx”)\nNow, obviously, when you run this, ```bash cmake -S . -B build you’ll be getting an error.\nNow to use vcpkg with CMake, we need the CMake to use the vcpkg CMake toolchain file (vcpkg.cmake) when we configure our CMake against our CMakeLists.txt file.\nWe can do this by specifying the path to the toolchain file using CMAKE_TOOLCHAIN_FILE to pass the path to the vcpkg.cmake file. This can be done in many ways. But for now, we will use this as an argument with CMake command.\nDelete the existing build directory. Then, do\ncmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=$VCPKG_ROOT/scripts/buildsystems/vcpkg.cmake Now this would actually use vcpkg to build the dependencies specified, and at the end it also shows how to utilise the dependency in your CMakeLists.txt file.\nThe package fmt provides CMake targets: find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) # Or use the header-only version find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt-header-only) After this configuration, we can try building.\ncmake --build build This above command would probably output the following.\n-- Running vcpkg install Detecting compiler hash for triplet x64-linux... Compiler found: /usr/bin/c++ All requested packages are currently installed. Total install time: 1.12 us The package fmt provides CMake targets: find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) # Or use the header-only version find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt-header-only) -- Running vcpkg install - done -- Configuring done -- Generating done -- Build files have been written to: /home/mito/demo/build [ 50%] Building CXX object CMakeFiles/demo.dir/main.cxx.o [100%] Linking CXX executable demo [100%] Built target demo Looks like the binary demo was built. Let’s try running it.\n./build/demo Mitochondria is the powerhouse of the cell! It works!\nNow this is far better than manually downloading the source code of the library, building it, using the header files in your src, etc..\n","wordCount":"811","inLanguage":"en","datePublished":"2024-03-30T00:53:07+05:30","dateModified":"2024-03-30T00:53:07+05:30","author":{"@type":"Person","name":"advnpzn"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://advnpzn.github.io/posts/using-vcpkg-manifest-mode/"},"publisher":{"@type":"Organization","name":"advnpzn","logo":{"@type":"ImageObject","url":"https://advnpzn.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://advnpzn.github.io/ accesskey=h title="advnpzn (Alt + H)">advnpzn</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://advnpzn.github.io/projects/ title=stuff><span>stuff</span></a></li><li><a href=https://advnpzn.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://advnpzn.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://advnpzn.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://advnpzn.github.io/about-me/ title="about me"><span>about me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">vcpkg - C++ Package manager</h1><div class=post-meta><span title='2024-03-30 00:53:07 +0530 +0530'>March 30, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;advnpzn</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#vcpkg aria-label=vcpkg>vcpkg</a><ul><li><a href=#installation aria-label=Installation>Installation</a></li><li><a href=#usage aria-label=Usage>Usage</a><ul><li><a href=#demo-project aria-label="Demo Project">Demo Project</a></li><li><a href=#cmakeliststxt aria-label=CMakeLists.txt>CMakeLists.txt</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>Do you use C++?</p><p>Do you struggle with maintaining dependencies for your projects?</p><p>Is it taking too much time to setup your C++ development environment setup ?</p><p>If <strong>YES</strong>, then consider that your development workflow is going to become smooth after reading this post.</p><p>One of the things where we bang our heads when dealing with C++ is managing third party dependencies that we use in our projects.
Be it a seasoned user or a novice, everyone must have tackled this issue somewhere at sometime using different ways.</p><p><img loading=lazy src=assets/struggle.png alt=struggle title=struggle></p><p>But is there a thing as which one&rsquo;s the &ldquo;best&rdquo; way ?</p><p>Ofcourse, there isn&rsquo;t, but anything that makes me not bang my head against the table, I would consider it a better way.
And this is where we&rsquo;ll be talking about Package Managers, and specifically about <code>vcpkg</code>.</p><h1 id=vcpkg>vcpkg<a hidden class=anchor aria-hidden=true href=#vcpkg>#</a></h1><p><a href=https://vcpkg.io/en/>vcpkg</a> is a package or dependency manager for C++. It&rsquo;s very unfortunate that there is no official package manager for C++ at it&rsquo;s dawn. I am not sure if the concept of &ldquo;package managers&rdquo; even existed</p><h2 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h2><p>It&rsquo;s pretty easily actually.</p><p>We&rsquo;ll be focusing on GNU/Linux installation entirely. This applies for usage as well. I&rsquo;ll be using Debian 12.
But 90% of the times, it&rsquo;s pretty much the same in Microsoft Windows.</p><p>Clone the repo.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/microsoft/vcpkg.git
</span></span></code></pre></div><p>Run the script</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd vcpkg <span style=color:#f92672>&amp;&amp;</span> ./bootstrap-vcpkg.sh
</span></span></code></pre></div><p>You can add <code>-disableMetrics</code> as an arugment to the shell script, if you don&rsquo;t want Microsoft to spy on you.</p><p>Then if you want to run <code>vcpkg</code> from anywhere in your shell, you can add the PATH to your <code>.bashrc</code> or profile file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>export VCPKG_ROOT<span style=color:#f92672>=</span>/path/to/vcpkg
</span></span><span style=display:flex><span>export PATH<span style=color:#f92672>=</span>$VCPKG_ROOT:$PATH
</span></span></code></pre></div><p>After this, you can probably run <code>vcpkg</code> from any directory.</p><h2 id=usage>Usage<a hidden class=anchor aria-hidden=true href=#usage>#</a></h2><p>Now to come to the part where we actually use <code>vcpkg</code> in our C++ project. I&rsquo;ll use a demo project.</p><h3 id=demo-project>Demo Project<a hidden class=anchor aria-hidden=true href=#demo-project>#</a></h3><p>We will be using <a href=https://github.com/fmtlib/fmt><code>fmt</code></a> library to print something.</p><p><code>main.cxx</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;fmt/core.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  fmt<span style=color:#f92672>::</span>print(<span style=color:#e6db74>&#34;Mitochondria is the powerhouse of the cell!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And to build this project, we&rsquo;ll be using CMake.</p><p>So, our initial project directory would look like this.</p><pre tabindex=0><code>demo/
├── CMakeLists.txt
└── main.cxx
</code></pre><p>Now from our <code>demo</code> directory, do</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vcpkg new --application
</span></span></code></pre></div><p>This would create two new files in our <code>demo</code> directory.</p><ul><li><code>vcpkg.json</code> - The file where we define our dependencies.</li><li><code>vcpkg-configuration.json</code> - the file where we define how <code>vcpkg</code> behaves, such as which custom registry to use etc.</li></ul><p>The above way of initialising & using <code>vcpkg</code> is called as <strong>Manifest Mode</strong>.</p><p>There are 2 modes generally.</p><ul><li>Classic</li><li>Manifest</li></ul><p>We&rsquo;ll be using Manifest mode throughout this post, because it is BETTER!</p><p>Now, to add a dependency to our project, which is <code>fmt</code>,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vcpkg add port fmt
</span></span></code></pre></div><p>You can search for many packages at <a href=https://vcpkg.io/en/packages>https://vcpkg.io/en/packages</a>.</p><p>Now, if you open that <code>vcpkg.json</code> file, you can see that the dependency we added is present.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;dependencies&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=cmakeliststxt>CMakeLists.txt<a hidden class=anchor aria-hidden=true href=#cmakeliststxt>#</a></h3><p>Make sure you have <code>cmake</code> installed beforehand along with something like <code>make</code> or <code>ninja</code>. Since this is a small demo project, we can have the following in our demo project.</p><p><code>CMakeLists.txt</code>
cmake_minimum_required(VERSION 3.12)</p><p>project(&ldquo;demo&rdquo;)</p><p>find_package(fmt CONFIG REQUIRED)</p><p>add_executable(demo &ldquo;main.cxx&rdquo;)</p><pre tabindex=0><code>
Now, obviously, when you run this,
```bash
cmake -S . -B build
</code></pre><p>you&rsquo;ll be getting an error.</p><p>Now to use vcpkg with CMake, we need the CMake to use the vcpkg CMake toolchain file (<code>vcpkg.cmake</code>) when we configure our CMake against our <code>CMakeLists.txt</code> file.</p><p>We can do this by specifying the path to the toolchain file using <code>CMAKE_TOOLCHAIN_FILE</code> to pass the path to the <code>vcpkg.cmake</code> file.
This can be done in many ways. But for now, we will use this as an argument with CMake command.</p><p>Delete the existing <code>build</code> directory.
Then, do</p><pre tabindex=0><code>cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=$VCPKG_ROOT/scripts/buildsystems/vcpkg.cmake
</code></pre><p>Now this would actually use <code>vcpkg</code> to build the dependencies specified, and at the end it also shows how to utilise the dependency in your <code>CMakeLists.txt</code> file.</p><pre tabindex=0><code>The package fmt provides CMake targets:

    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt)

    # Or use the header-only version
    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt-header-only)
</code></pre><p>After this configuration, we can try building.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cmake --build build
</span></span></code></pre></div><p>This above command would probably output the following.</p><pre tabindex=0><code>-- Running vcpkg install
Detecting compiler hash for triplet x64-linux...
Compiler found: /usr/bin/c++
All requested packages are currently installed.
Total install time: 1.12 us
The package fmt provides CMake targets:

    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt)

    # Or use the header-only version
    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt-header-only)

-- Running vcpkg install - done
-- Configuring done
-- Generating done
-- Build files have been written to: /home/mito/demo/build
[ 50%] Building CXX object CMakeFiles/demo.dir/main.cxx.o
[100%] Linking CXX executable demo
[100%] Built target demo
</code></pre><p>Looks like the binary <code>demo</code> was built.
Let&rsquo;s try running it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./build/demo
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Mitochondria is the powerhouse of the cell!
</span></span></code></pre></div><p>It works!</p><p>Now this is far better than manually downloading the source code of the library, building it, using the header files in your src, etc..</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://advnpzn.github.io/tags/cpp/>Cpp</a></li><li><a href=https://advnpzn.github.io/tags/c++/>C++</a></li><li><a href=https://advnpzn.github.io/tags/vcpkg/>Vcpkg</a></li><li><a href=https://advnpzn.github.io/tags/package-manager/>Package-Manager</a></li><li><a href=https://advnpzn.github.io/tags/programming/>Programming</a></li><li><a href=https://advnpzn.github.io/tags/cmake/>Cmake</a></li><li><a href=https://advnpzn.github.io/tags/fmt/>Fmt</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://advnpzn.github.io/>advnpzn</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>