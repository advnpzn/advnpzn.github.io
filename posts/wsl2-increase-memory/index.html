<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Increase the amount of RAM allocated to your WSL2 distros."><title>increasing memory in wsl2
</title><link rel="shortcut icon" type=image/x-icon href=/><link rel=stylesheet href=/css/main.51652302d3a998bf7887aed5c2cf89141bbebdf45a2c8f87b0717a3cf4f51c4e53c694c328fb1de78c3a625a1c01f80745bf1f2f42c040647a245cbbb6c2d1d7.css integrity="sha512-UWUjAtOpmL94h67Vws+JFBu+vfRaLI+HsHF6PPT1HE5TxpTDKPsd54w6YlocAfgHRb8fL0LAQGR6JFy7tsLR1w=="></head><body a=auto><main class=page-content aria-label=Content><div class=w><div class=post-meta><a href=/>..</a><p><time datetime="2024-03-12 23:05:00 +0530 +0530">2024-03-12</time></p></div><article><h1>increasing memory in wsl2</h1><h2 id=wsl2><code>WSL2</code></h2><p>You guys already know what is <code>wsl2</code>, so let&rsquo;s not waste time. I assume at this point, you already have a distro for your WSL2 ready and don&rsquo;t know how to increase the RAM/memory.</p><p>For this example, I&rsquo;ll be using <code>Debian 12 (Bookworm)</code>.
<img src=assets/pfetch.png alt=pfetch></p><h3 id=powershell>Powershell</h3><p>Go to your <code>$HOME</code> directory in powershell. If you don&rsquo;t know what your HOME directory is, just do</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>echo $HOME
</span></span></code></pre></div><p>This would show you the home directory.</p><p>After this, we need to create a file called <code>.wslconfig</code> in the <code>$HOME</code> directory. We can do this from PowerShell itself.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>notepad.exe .wslconfig
</span></span></code></pre></div><h3 id=notepad>Notepad</h3><p>A new Notepad window might open, in there just type</p><p><code>.wslconfig</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>wsl2</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>memory</span>=<span style=color:#ae81ff>8</span><span style=color:#a6e22e>GB</span>
</span></span></code></pre></td></tr></table></div></div><p>Now, for the <code>memory=</code> value, your value shouold be equal to or less than your actual Memory / RAM you have.</p><p>Lets say, I have 16 GB of RAM, then I can give 4 Gb, 8GB, 10GB, 16 GB etc.. as long as it is within or equal to 16 GB.</p><p>Save the <code>.wslconfig</code> file in your <code>$HOME</code> directory.</p><p>Sometimes, it would be saved as <code>.wslconfig.txt</code>, you can rename it easily in PowerShell.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>mv .wslconfig.txt .wslconfig
</span></span></code></pre></div><h3 id=restart-your-wsl2>Restart your WSL2</h3><p>After this, if your WSL2 is already running, restart it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl --shutdown
</span></span></code></pre></div><p>And now open, any distro you have.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl -d Debian
</span></span></code></pre></div><p>Now check how much RAM/memory you have ðŸ˜„</p><h3 id=references>Reference(s)</h3><ul><li><a href=https://learn.microsoft.com/en-us/windows/wsl/wsl-config>https://learn.microsoft.com/en-us/windows/wsl/wsl-config</a></li></ul></article></div></main></body></html>